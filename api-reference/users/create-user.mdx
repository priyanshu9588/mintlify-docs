---
title: "Create User"
api: "POST https://api.holysuck.com/v1/users"
description: "Create a new user account"
---

## Overview

Create a new user account in the HolySuck system. This endpoint is typically used for user registration or admin-initiated account creation.

## Authentication

This endpoint requires authentication with appropriate permissions:
- **Public registration**: May not require authentication if enabled
- **Admin creation**: Requires admin API key or token

## Request Body

<ParamField body="email" type="string" required>
  The user's email address. Must be unique across the system.
</ParamField>

<ParamField body="name" type="string" required>
  The user's display name (2-100 characters)
</ParamField>

<ParamField body="password" type="string" required>
  The user's password (minimum 8 characters, must include letters and numbers)
</ParamField>

<ParamField body="role" type="string" default="user">
  User role: `user`, `admin`, or `moderator`. Defaults to `user`.
</ParamField>

<ParamField body="metadata" type="object">
  Custom metadata to associate with the user account
</ParamField>

## Response

Returns the created user object with all fields except the password.

<ResponseField name="id" type="string" required>
  Unique user identifier
</ResponseField>

<ResponseField name="email" type="string" required>
  User's email address
</ResponseField>

<ResponseField name="name" type="string" required>
  User's display name
</ResponseField>

<ResponseField name="status" type="string" required>
  User account status (initially set to "active")
</ResponseField>

<ResponseField name="role" type="string" required>
  User's role
</ResponseField>

<ResponseField name="metadata" type="object">
  Custom metadata associated with the user
</ResponseField>

<ResponseField name="created_at" type="string" required>
  ISO 8601 timestamp when the user was created
</ResponseField>

<ResponseField name="updated_at" type="string" required>
  ISO 8601 timestamp when the user was last updated
</ResponseField>

## Example Request

<CodeGroup>

```bash cURL
curl -X POST "https://api.holysuck.com/v1/users" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "newuser@example.com",
    "name": "New User",
    "password": "securePassword123",
    "role": "user",
    "metadata": {
      "department": "engineering",
      "onboarding_complete": false
    }
  }'
```

```javascript JavaScript
const response = await fetch('https://api.holysuck.com/v1/users', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    email: 'newuser@example.com',
    name: 'New User',
    password: 'securePassword123',
    role: 'user',
    metadata: {
      department: 'engineering',
      onboarding_complete: false
    }
  })
});

const newUser = await response.json();
```

```python Python
import requests

data = {
    'email': 'newuser@example.com',
    'name': 'New User',
    'password': 'securePassword123',
    'role': 'user',
    'metadata': {
        'department': 'engineering',
        'onboarding_complete': False
    }
}

response = requests.post(
    'https://api.holysuck.com/v1/users',
    headers={
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    json=data
)

new_user = response.json()
```

```go Go
package main

import (
    "bytes"
    "encoding/json"
    "fmt"
    "net/http"
)

func main() {
    userData := map[string]interface{}{
        "email":    "newuser@example.com",
        "name":     "New User",
        "password": "securePassword123",
        "role":     "user",
        "metadata": map[string]interface{}{
            "department":           "engineering",
            "onboarding_complete": false,
        },
    }
    
    jsonData, _ := json.Marshal(userData)
    
    client := &http.Client{}
    req, _ := http.NewRequest("POST", "https://api.holysuck.com/v1/users", bytes.NewBuffer(jsonData))
    req.Header.Add("Authorization", "Bearer YOUR_API_KEY")
    req.Header.Add("Content-Type", "application/json")
    
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}
```

</CodeGroup>

## Example Response

<CodeGroup>

```json 201 Created
{
  "id": "user_9876543210fedcba",
  "email": "newuser@example.com",
  "name": "New User",
  "avatar_url": null,
  "status": "active",
  "role": "user",
  "metadata": {
    "department": "engineering",
    "onboarding_complete": false
  },
  "created_at": "2024-01-20T15:30:00Z",
  "updated_at": "2024-01-20T15:30:00Z",
  "last_login_at": null
}
```

```json 400 Validation Error
{
  "error": "validation_failed",
  "message": "The request contains invalid parameters",
  "details": [
    {
      "field": "email",
      "code": "already_exists",
      "message": "A user with this email address already exists"
    },
    {
      "field": "password",
      "code": "too_weak",
      "message": "Password must be at least 8 characters and include both letters and numbers"
    }
  ],
  "documentation_url": "https://docs.holysuck.com/errors/validation_failed"
}
```

```json 403 Insufficient Permissions
{
  "error": "insufficient_permissions",
  "message": "You don't have permission to create users",
  "documentation_url": "https://docs.holysuck.com/errors/insufficient_permissions"
}
```

</CodeGroup>

## Validation Rules

### Email
- Must be a valid email format
- Must be unique across the system
- Maximum 255 characters

### Name
- Minimum 2 characters
- Maximum 100 characters
- Cannot contain special characters except spaces, hyphens, and apostrophes

### Password
- Minimum 8 characters
- Must contain at least one letter and one number
- Maximum 128 characters
- Cannot be common passwords (e.g., "password123")

### Role
- Must be one of: `user`, `admin`, `moderator`
- Only admins can create users with `admin` or `moderator` roles
- Defaults to `user` if not specified

### Metadata
- Maximum 50 key-value pairs
- Keys must be strings (max 40 characters)
- Values must be strings, numbers, or booleans (max 500 characters for strings)

## Permissions

User creation permissions vary based on your authentication:

| Authentication | Allowed Roles | Notes |
|---------------|---------------|-------|
| No auth (public) | `user` only | If public registration is enabled |
| User API key | None | Regular users cannot create other users |
| Admin API key | All roles | Full user creation capabilities |
| Moderator API key | `user` only | Can create regular users only |

## Welcome Email

When a user is created successfully, HolySuck automatically sends a welcome email containing:

- Account confirmation link
- Getting started guide
- Password reset instructions (if needed)
- Support contact information

To disable welcome emails, add `send_welcome_email: false` to the request body.

## Bulk User Creation

For creating multiple users at once, use the bulk creation endpoint:

```http
POST /v1/users/bulk
```

<Note>
Bulk creation is limited to 100 users per request and requires admin permissions.
</Note>

## Common Use Cases

### User Registration
```javascript
// Registration form submission
async function registerUser(formData) {
  try {
    const response = await fetch('/api/v1/users', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        email: formData.email,
        name: formData.name,
        password: formData.password
      })
    });
    
    if (response.ok) {
      const user = await response.json();
      // Redirect to welcome page or auto-login
      return user;
    }
  } catch (error) {
    // Handle registration errors
    console.error('Registration failed:', error);
  }
}
```

### Admin User Creation
```javascript
// Admin dashboard user creation
async function createTeamMember(userData) {
  const response = await fetch('/api/v1/users', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${adminToken}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      email: userData.email,
      name: userData.name,
      password: generateTempPassword(),
      role: userData.role,
      metadata: {
        department: userData.department,
        manager_id: userData.managerId
      }
    })
  });
  
  return response.json();
}
```

## Security Considerations

<Warning>
**Password Handling**: Passwords are automatically hashed using bcrypt before storage. Never store or log plain text passwords.
</Warning>

<Note>
**Email Verification**: Consider implementing email verification for new accounts to ensure email ownership.
</Note>

## Rate Limiting

User creation has special rate limits to prevent abuse:

- **5 users per minute** per API key
- **50 users per hour** per API key
- **Public registration**: 1 user per minute per IP address

## Error Handling

Common error scenarios and how to handle them:

<Accordion title="Email Already Exists">
The email address is already in use by another account.

**Solution**: Ask the user to use a different email or try logging in with the existing account.
</Accordion>

<Accordion title="Password Too Weak">
The password doesn't meet security requirements.

**Solution**: Display password requirements and ask the user to choose a stronger password.
</Accordion>

<Accordion title="Invalid Email Format">
The email address format is invalid.

**Solution**: Validate email format on the client side before submission.
</Accordion>

## Related Endpoints

- [Get User](/api-reference/users/get-user) - Retrieve user information
- [Update User](/api-reference/users/update-user) - Modify user details
- [Delete User](/api-reference/users/delete-user) - Remove user account
- [List Users](/api-reference/users/list-users) - Get multiple users