---
title: "List Users"
api: "GET https://api.holysuck.com/v1/users"
description: "Get a paginated list of users"
---

## Overview

Retrieve a paginated list of users from your HolySuck account. This endpoint supports filtering, sorting, and searching to help you find specific users.

## Authentication

This endpoint requires authentication with appropriate permissions:
- **Regular users**: Can only see basic information of other users
- **Moderators**: Can see extended user information
- **Admins**: Can see all user information and private data

## Query Parameters

<ParamField query="page" type="integer" default="1">
  Page number for pagination (minimum: 1)
</ParamField>

<ParamField query="per_page" type="integer" default="20">
  Number of users per page (minimum: 1, maximum: 100)
</ParamField>

<ParamField query="status" type="string">
  Filter by user status: `active`, `inactive`, or `suspended`
</ParamField>

<ParamField query="role" type="string">
  Filter by user role: `user`, `admin`, or `moderator`
</ParamField>

<ParamField query="search" type="string">
  Search users by name or email (minimum 2 characters)
</ParamField>

<ParamField query="sort" type="string" default="created_at">
  Sort field: `name`, `email`, `created_at`, `updated_at`, or `last_login_at`
</ParamField>

<ParamField query="order" type="string" default="asc">
  Sort order: `asc` (ascending) or `desc` (descending)
</ParamField>

<ParamField query="created_after" type="string">
  Filter users created after this date (ISO 8601 format)
</ParamField>

<ParamField query="created_before" type="string">
  Filter users created before this date (ISO 8601 format)
</ParamField>

## Response

<ResponseField name="data" type="array" required>
  Array of user objects
</ResponseField>

<ResponseField name="pagination" type="object" required>
  Pagination information including page, total count, and navigation
</ResponseField>

### User Object Fields

<ResponseField name="id" type="string" required>
  Unique user identifier
</ResponseField>

<ResponseField name="email" type="string" required>
  User's email address (may be hidden for non-admin users)
</ResponseField>

<ResponseField name="name" type="string" required>
  User's display name
</ResponseField>

<ResponseField name="avatar_url" type="string">
  URL to user's profile picture
</ResponseField>

<ResponseField name="status" type="string" required>
  User account status
</ResponseField>

<ResponseField name="role" type="string" required>
  User's role in the system
</ResponseField>

<ResponseField name="created_at" type="string" required>
  ISO 8601 timestamp when the user was created
</ResponseField>

<ResponseField name="last_login_at" type="string">
  ISO 8601 timestamp of the user's last login
</ResponseField>

### Pagination Object

<ResponseField name="page" type="integer" required>
  Current page number
</ResponseField>

<ResponseField name="per_page" type="integer" required>
  Number of items per page
</ResponseField>

<ResponseField name="total" type="integer" required>
  Total number of users matching the query
</ResponseField>

<ResponseField name="total_pages" type="integer" required>
  Total number of pages
</ResponseField>

<ResponseField name="has_more" type="boolean" required>
  Whether there are more pages available
</ResponseField>

<ResponseField name="next_cursor" type="string">
  Cursor for the next page (for cursor-based pagination)
</ResponseField>

<ResponseField name="prev_cursor" type="string">
  Cursor for the previous page (for cursor-based pagination)
</ResponseField>

## Example Requests

<CodeGroup>

```bash Basic List
curl -X GET "https://api.holysuck.com/v1/users" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

```bash With Filters
curl -X GET "https://api.holysuck.com/v1/users?status=active&role=user&page=2&per_page=50" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

```bash Search Users
curl -X GET "https://api.holysuck.com/v1/users?search=john&sort=name&order=asc" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

```bash Date Range Filter
curl -X GET "https://api.holysuck.com/v1/users?created_after=2024-01-01T00:00:00Z&created_before=2024-12-31T23:59:59Z" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

```javascript JavaScript
// Basic list with pagination
const response = await fetch('https://api.holysuck.com/v1/users?page=1&per_page=20', {
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  }
});

const users = await response.json();
console.log(`Found ${users.pagination.total} users`);

// Filter active users
const activeUsers = await fetch('https://api.holysuck.com/v1/users?status=active', {
  headers: { 'Authorization': 'Bearer YOUR_API_KEY' }
});

// Search by name
const searchResults = await fetch('https://api.holysuck.com/v1/users?search=john', {
  headers: { 'Authorization': 'Bearer YOUR_API_KEY' }
});
```

```python Python
import requests
from urllib.parse import urlencode

headers = {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
}

# Basic list
response = requests.get(
    'https://api.holysuck.com/v1/users',
    headers=headers
)
users = response.json()

# With filters
params = {
    'status': 'active',
    'role': 'user',
    'page': 1,
    'per_page': 50,
    'sort': 'created_at',
    'order': 'desc'
}

response = requests.get(
    f'https://api.holysuck.com/v1/users?{urlencode(params)}',
    headers=headers
)
filtered_users = response.json()
```

</CodeGroup>

## Example Response

<CodeGroup>

```json 200 Success
{
  "data": [
    {
      "id": "user_1234567890abcdef",
      "email": "john.doe@example.com",
      "name": "John Doe",
      "avatar_url": "https://avatars.holysuck.com/user_1234567890abcdef.jpg",
      "status": "active",
      "role": "user",
      "created_at": "2024-01-15T10:30:00Z",
      "updated_at": "2024-01-20T14:45:00Z",
      "last_login_at": "2024-01-20T14:45:00Z"
    },
    {
      "id": "user_abcdef1234567890",
      "email": "jane.smith@example.com",
      "name": "Jane Smith",
      "avatar_url": "https://avatars.holysuck.com/user_abcdef1234567890.jpg",
      "status": "active",
      "role": "moderator",
      "created_at": "2024-01-10T08:15:00Z",
      "updated_at": "2024-01-19T16:30:00Z",
      "last_login_at": "2024-01-21T09:00:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "per_page": 20,
    "total": 150,
    "total_pages": 8,
    "has_more": true,
    "next_cursor": "cursor_eyJpZCI6InVzZXJfYWJjZGVmMTIzNDU2Nzg5MCJ9",
    "prev_cursor": null
  }
}
```

```json 400 Invalid Parameters
{
  "error": "validation_failed",
  "message": "Invalid query parameters",
  "details": [
    {
      "field": "per_page",
      "code": "out_of_range",
      "message": "per_page must be between 1 and 100"
    }
  ],
  "documentation_url": "https://docs.holysuck.com/errors/validation_failed"
}
```

</CodeGroup>

## Advanced Usage

### Pagination Strategies

<Accordion title="Offset-based Pagination">
Standard page-based pagination:

```javascript
async function getAllUsersPages() {
  const allUsers = [];
  let page = 1;
  let hasMore = true;
  
  while (hasMore) {
    const response = await fetch(`/api/v1/users?page=${page}&per_page=100`, {
      headers: { 'Authorization': `Bearer ${apiKey}` }
    });
    
    const data = await response.json();
    allUsers.push(...data.data);
    
    hasMore = data.pagination.has_more;
    page++;
    
    // Rate limiting delay
    await new Promise(resolve => setTimeout(resolve, 100));
  }
  
  return allUsers;
}
```
</Accordion>

<Accordion title="Cursor-based Pagination">
More efficient for large datasets:

```javascript
async function getAllUsersCursor() {
  const allUsers = [];
  let cursor = null;
  
  while (true) {
    const url = cursor 
      ? `/api/v1/users?cursor=${cursor}&per_page=100`
      : '/api/v1/users?per_page=100';
      
    const response = await fetch(url, {
      headers: { 'Authorization': `Bearer ${apiKey}` }
    });
    
    const data = await response.json();
    allUsers.push(...data.data);
    
    if (!data.pagination.next_cursor) break;
    cursor = data.pagination.next_cursor;
  }
  
  return allUsers;
}
```
</Accordion>

### Filtering Examples

<Accordion title="Advanced Filtering">
```javascript
// Complex filter combinations
const filters = new URLSearchParams({
  status: 'active',
  role: 'user',
  search: 'john',
  created_after: '2024-01-01T00:00:00Z',
  sort: 'last_login_at',
  order: 'desc'
});

const response = await fetch(`/api/v1/users?${filters}`, {
  headers: { 'Authorization': `Bearer ${apiKey}` }
});

// Filter by multiple values (if supported)
const multipleRoles = new URLSearchParams();
multipleRoles.append('role', 'user');
multipleRoles.append('role', 'moderator');

const usersWithRoles = await fetch(`/api/v1/users?${multipleRoles}`, {
  headers: { 'Authorization': `Bearer ${apiKey}` }
});
```
</Accordion>

<Accordion title="Date Range Queries">
```javascript
// Users created in the last 30 days
const thirtyDaysAgo = new Date();
thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);

const recentUsers = await fetch(
  `/api/v1/users?created_after=${thirtyDaysAgo.toISOString()}`,
  { headers: { 'Authorization': `Bearer ${apiKey}` } }
);

// Users who haven't logged in for 90 days
const ninetyDaysAgo = new Date();
ninetyDaysAgo.setDate(ninetyDaysAgo.getDate() - 90);

const inactiveUsers = await fetch(
  `/api/v1/users?last_login_before=${ninetyDaysAgo.toISOString()}`,
  { headers: { 'Authorization': `Bearer ${apiKey}` } }
);
```
</Accordion>

### Search Implementation

<Accordion title="Search with Debouncing">
```javascript
function createUserSearch() {
  let searchTimeout;
  
  return function searchUsers(query) {
    clearTimeout(searchTimeout);
    
    return new Promise((resolve) => {
      searchTimeout = setTimeout(async () => {
        if (query.length < 2) {
          resolve([]);
          return;
        }
        
        try {
          const response = await fetch(
            `/api/v1/users?search=${encodeURIComponent(query)}&per_page=10`,
            { headers: { 'Authorization': `Bearer ${apiKey}` } }
          );
          
          const data = await response.json();
          resolve(data.data);
        } catch (error) {
          console.error('Search failed:', error);
          resolve([]);
        }
      }, 300); // 300ms debounce
    });
  };
}

const searchUsers = createUserSearch();

// Usage in a search input handler
document.getElementById('userSearch').addEventListener('input', async (e) => {
  const results = await searchUsers(e.target.value);
  displaySearchResults(results);
});
```
</Accordion>

## Use Cases

### User Directory

```javascript
async function buildUserDirectory() {
  try {
    const response = await fetch('/api/v1/users?status=active&sort=name&per_page=50', {
      headers: { 'Authorization': `Bearer ${apiKey}` }
    });
    
    const data = await response.json();
    
    return data.data.map(user => ({
      id: user.id,
      name: user.name,
      avatar: user.avatar_url,
      role: user.role,
      isOnline: isUserOnline(user.last_login_at)
    }));
  } catch (error) {
    console.error('Failed to load user directory:', error);
    return [];
  }
}

function isUserOnline(lastLoginAt) {
  if (!lastLoginAt) return false;
  const lastLogin = new Date(lastLoginAt);
  const fiveMinutesAgo = new Date(Date.now() - 5 * 60 * 1000);
  return lastLogin > fiveMinutesAgo;
}
```

### Admin Dashboard

```javascript
async function getUserStatistics() {
  try {
    // Get user counts by status
    const [activeUsers, inactiveUsers, suspendedUsers] = await Promise.all([
      fetch('/api/v1/users?status=active&per_page=1').then(r => r.json()),
      fetch('/api/v1/users?status=inactive&per_page=1').then(r => r.json()),
      fetch('/api/v1/users?status=suspended&per_page=1').then(r => r.json())
    ]);
    
    // Get role distribution
    const [regularUsers, moderators, admins] = await Promise.all([
      fetch('/api/v1/users?role=user&per_page=1').then(r => r.json()),
      fetch('/api/v1/users?role=moderator&per_page=1').then(r => r.json()),
      fetch('/api/v1/users?role=admin&per_page=1').then(r => r.json())
    ]);
    
    return {
      byStatus: {
        active: activeUsers.pagination.total,
        inactive: inactiveUsers.pagination.total,
        suspended: suspendedUsers.pagination.total
      },
      byRole: {
        users: regularUsers.pagination.total,
        moderators: moderators.pagination.total,
        admins: admins.pagination.total
      },
      total: activeUsers.pagination.total + inactiveUsers.pagination.total + suspendedUsers.pagination.total
    };
  } catch (error) {
    console.error('Failed to get user statistics:', error);
    return null;
  }
}
```

### User Export

```javascript
async function exportAllUsers(format = 'json') {
  const allUsers = [];
  let page = 1;
  let hasMore = true;
  
  console.log('Starting user export...');
  
  while (hasMore) {
    try {
      const response = await fetch(`/api/v1/users?page=${page}&per_page=100&sort=created_at`, {
        headers: { 'Authorization': `Bearer ${apiKey}` }
      });
      
      const data = await response.json();
      allUsers.push(...data.data);
      
      hasMore = data.pagination.has_more;
      page++;
      
      console.log(`Exported ${allUsers.length} users...`);
      
      // Rate limiting
      await new Promise(resolve => setTimeout(resolve, 100));
    } catch (error) {
      console.error(`Failed to export page ${page}:`, error);
      break;
    }
  }
  
  console.log(`Export complete: ${allUsers.length} users`);
  
  if (format === 'csv') {
    return convertToCSV(allUsers);
  }
  
  return allUsers;
}

function convertToCSV(users) {
  const headers = ['ID', 'Name', 'Email', 'Status', 'Role', 'Created At'];
  const rows = users.map(user => [
    user.id,
    user.name,
    user.email,
    user.status,
    user.role,
    user.created_at
  ]);
  
  return [headers, ...rows]
    .map(row => row.map(field => `"${field}"`).join(','))
    .join('\n');
}
```

## Performance Considerations

<Warning>
**Large Datasets**: For datasets with more than 10,000 users, consider using cursor-based pagination for better performance.
</Warning>

<Note>
**Rate Limiting**: This endpoint is subject to rate limits. For bulk operations, implement appropriate delays between requests.
</Note>

## Error Handling

Common error scenarios:

```javascript
async function listUsersWithErrorHandling(params = {}) {
  try {
    const queryString = new URLSearchParams(params).toString();
    const response = await fetch(`/api/v1/users?${queryString}`, {
      headers: { 'Authorization': `Bearer ${apiKey}` }
    });
    
    if (!response.ok) {
      const error = await response.json();
      
      switch (response.status) {
        case 400:
          console.error('Invalid parameters:', error.details);
          break;
        case 403:
          console.error('Insufficient permissions to list users');
          break;
        case 429:
          console.error('Rate limit exceeded');
          break;
        default:
          console.error('Request failed:', error.message);
      }
      
      throw new Error(error.message);
    }
    
    return await response.json();
  } catch (error) {
    console.error('Failed to list users:', error.message);
    throw error;
  }
}
```

## Related Endpoints

- [Get User](/api-reference/users/get-user) - Retrieve a specific user
- [Create User](/api-reference/users/create-user) - Create a new user
- [Update User](/api-reference/users/update-user) - Modify user information
- [Delete User](/api-reference/users/delete-user) - Remove a user account